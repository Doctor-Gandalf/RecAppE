#!/usr/bin/python3
__author__ = 'Kellan Childers'

import curses
from mainscreen import MainScreen
from util import center_start


def app(stdscr):
    # Ensures a clean visual space.
    stdscr.clear()
    curses.curs_set(False)

    # Sets the three main colors for the Conway graph.
    # First color: text. Second color: background.
    curses.init_pair(1, curses.COLOR_WHITE, curses.COLOR_BLUE)
    curses.init_pair(2, curses.COLOR_BLACK, curses.COLOR_WHITE)
    curses.init_pair(3, curses.COLOR_BLACK, curses.COLOR_BLACK)
    stdscr.bkgd(' ', curses.color_pair(2))

    console_height, console_width = stdscr.getmaxyx()
    _, title_x = center_start(console_height, console_width, 1, 26)
    stdscr.addstr(0, title_x, "RecAppE by Kellan Childers", curses.A_BOLD | curses.A_UNDERLINE)

    stdscr.refresh()

    main_screen = MainScreen(console_height, console_width)
    main_screen.show_intro()
    main_screen.start_shopping_list()

    main_screen.add_item("onions", 5, "whole")
    main_screen.add_item("potatoes", 1, "cut")
    main_screen.add_item("potatoe", 1, "cut")
    main_screen.add_item("potatos", 1, "cut")
    main_screen.add_item("potates", 1, "cut")
    main_screen.add_item("potaoes", 1, "cut")
    main_screen.add_item("pottoes", 1, "cut")
    main_screen.add_item("poatoes", 1, "cut")
    main_screen.add_item("ptatoes", 1, "cut")
    main_screen.add_item("otatoes", 1, "cut")
    main_screen.add_item("tatos", 1, "cut")
    main_screen.add_item("potes", 1, "cut")
    main_screen.add_item("pates", 1, "cut")
    main_screen.add_item("potae", 1, "cut")
    main_screen.add_item("potao", 1, "cut")
    main_screen.add_item("potaes", 1, "cut")
    main_screen.add_item("poto", 1, "cut")
    main_screen.add_item("tatoes", 1, "cut")
    main_screen.add_item("potoes", 1, "cut")
    main_screen.add_item("atoes", 1, "cut")
    main_screen.add_item("pttoes", 1, "cut")
    main_screen.add_item("ptates", 1, "cut")
    main_screen.add_item("potatqoes", 1, "cut")
    main_screen.add_item("potatoqe", 1, "cut")
    main_screen.add_item("potatosq", 1, "cut")
    main_screen.add_item("qpotates", 1, "cut")
    main_screen.add_item("pqotaoes", 1, "cut")
    main_screen.add_item("poqttoes", 1, "cut")
    main_screen.add_item("poaqtoes", 1, "cut")
    main_screen.add_item("ptatqoes", 1, "cut")
    main_screen.add_item("otatoqes", 1, "cut")
    main_screen.add_item("qtatos", 1, "cut")
    main_screen.add_item("pqotes", 1, "cut")
    main_screen.add_item("paqtes", 1, "cut")
    main_screen.add_item("potqae", 1, "cut")
    main_screen.add_item("potaqo", 1, "cut")
    main_screen.add_item("potaeqs", 1, "cut")
    main_screen.add_item("qpoto", 1, "cut")
    main_screen.add_item("tqatoes", 1, "cut")
    main_screen.add_item("poqtoes", 1, "cut")
    main_screen.add_item("atoqes", 1, "cut")
    main_screen.add_item("pttoqes", 1, "cut")
    main_screen.add_item("ptateqs", 1, "cut")
    main_screen.add_item("wpotatoes", 1, "cut")
    main_screen.add_item("pwotatoe", 1, "cut")
    main_screen.add_item("powtatos", 1, "cut")
    main_screen.add_item("potwates", 1, "cut")
    main_screen.add_item("potawoes", 1, "cut")
    main_screen.add_item("pottowes", 1, "cut")
    main_screen.add_item("poatoews", 1, "cut")
    main_screen.add_item("ptatoesw", 1, "cut")
    main_screen.add_item("wotatoes", 1, "cut")
    main_screen.add_item("twatos", 1, "cut")
    main_screen.add_item("powtes", 1, "cut")
    main_screen.add_item("patwes", 1, "cut")
    main_screen.add_item("potawe", 1, "cut")
    main_screen.add_item("potaow", 1, "cut")
    main_screen.add_item("wpotaes", 1, "cut")
    main_screen.add_item("pwoto", 1, "cut")
    main_screen.add_item("tawtoes", 1, "cut")
    main_screen.add_item("potwoes", 1, "cut")
    main_screen.add_item("atoews", 1, "cut")
    main_screen.add_item("pttoews", 1, "cut")
    main_screen.add_item("wptates", 1, "cut")
    main_screen.add_item("pwotatqoes", 1, "cut")
    main_screen.add_item("powtatoqe", 1, "cut")
    main_screen.add_item("potwatosq", 1, "cut")
    main_screen.add_item("qpotwates", 1, "cut")
    main_screen.add_item("pqotawoes", 1, "cut")
    main_screen.add_item("poqttowes", 1, "cut")
    main_screen.add_item("poaqtoews", 1, "cut")
    main_screen.add_item("ptatqoesw", 1, "cut")
    main_screen.add_item("wotatoqes", 1, "cut")
    main_screen.add_item("qwtatos", 1, "cut")
    main_screen.add_item("pqwotes", 1, "cut")
    main_screen.add_item("paqwwtes", 1, "cut")
    main_screen.add_item("potqawe", 1, "cut")
    main_screen.add_item("potaqow", 1, "cut")
    main_screen.add_item("pwotaeqs", 1, "cut")
    main_screen.add_item("qpwoto", 1, "cut")
    main_screen.add_item("tqawtoes", 1, "cut")
    main_screen.add_item("poqtwoes", 1, "cut")
    main_screen.add_item("atoqews", 1, "cut")
    main_screen.add_item("pttoqews", 1, "cut")
    main_screen.add_item("ptateqsw", 1, "cut")

    while True:
        main_screen.clear_screen()
        main_screen.show_list()
        main_screen.do_command()

if __name__ == "__main__":
    # curses.wrapper ensures that program will always fully exit from curses mode if an error occurs.
    curses.wrapper(app)
